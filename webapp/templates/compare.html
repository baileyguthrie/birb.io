{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}
    {{ block.super }} - Compare
{% endblock title %}
{% block content %}
    
    <form method="GET" action="/compare">
        <ul class="list-unstyled" id="compare-search-bars">
            <li>
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <div class="search-row compare-query" id="#compare-row">
                            <input id="query" type="text" autofocus="autofocus" name="query" autocomplete="off">
                        </div>
                    </div>
                </div>
            </li>
            <br>
            <li>
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <div class="search-row compare-query" id="#compare-row">
                            <input id="query" type="text" name="query" autocomplete="off">
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div id="warning">
                    <img class="svg" src="{% static 'images/alert-triangle.svg' %}">
                    <p>The more search terms added, the slower the search will be</p>
                    <img class="svg" src="{% static 'images/alert-triangle.svg' %}">
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-2 col-md-offset-5 title-wrapper">
                <button id="add-btn" type="button">
                    <img id="add-icon" class="svg" src="{% static 'images/plus.svg' %}">
                </button>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-4 col-md-offset-4 title-wrapper">
                <button id="compare-btn" type="submit" disabled="true">
                    compare
                </button>
            </div>
        </div>
    </form>
    
    <br>
    <div class="results-group">
        {% if results %}
            {% for term in results %}
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <div class="result-container">
                            <p>
                                <span class="result-name">{{ term.name }}</span>
                                <span class="right-side statement">{{ term.statement }}</span>    
                            </p>
                            <p class="remove-margin">
                                &nbsp;
                                <span class="right-side analysis">{{ term.analysis }}</span>
                            </p>
                        </div>
                    </div>
                </div>
            {% endfor %}
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <canvas id="chart" width="400px" height="400px"></canvas>
                </div>
            </div>
        {% elif error %}
            <div class="row">
                <div class="col-md-4 col-md-offset-4">
                    <div class="result-container title-wrapper">
                        <p>{{ error }}</p>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
{% endblock content %}